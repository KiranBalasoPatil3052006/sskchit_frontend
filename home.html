<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Seetu App Layout</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="images/sskicon.png">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --bg: #f5efe6;
            --bg-gradient: linear-gradient(135deg, #fdf3e7, #f7e4cf);
            --text: #3a251b;
            --accent: #d2b89b;
            --card-bg: #fff7ee;
            --nav-text-light: #7a5b47;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            background: var(--bg-gradient);
            color: var(--text);
            padding: 0;
            min-height: 100vh;
        }

        .navbar {
            position: sticky;
            top: 0;
            z-index: 20;
            background: rgba(245, 239, 230, 0.96);
            backdrop-filter: blur(6px);
            border-bottom: 1px solid rgba(210, 184, 155, 0.7);
            padding: 10px 16px;
        }

        .nav-inner {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .brand {
            font-weight: 800;
            font-size: 1.1rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--text);
        }

        .nav-links {
            display: flex;
            gap: 10px;
            font-size: 0.9rem;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--nav-text-light);
            padding: 6px 14px;
            border-radius: 999px;
            border: 1px solid transparent;
            transition: background 0.2s ease, border-color 0.2s ease, transform 0.1s ease, color 0.2s ease;
            font-weight: 500;
        }

        .nav-links a:hover {
            background: #fff7ee;
            border-color: var(--accent);
            transform: translateY(-1px);
            color: var(--text);
        }

        .nav-links a.active {
            background: #fff7ee;
            border-color: var(--accent);
            color: var(--text);
        }

        .hamburger {
            display: none;
            width: 28px;
            height: 24px;
            border: none;
            background: transparent;
            cursor: pointer;
            flex-shrink: 0;
        }

        .hamburger span,
        .hamburger::before,
        .hamburger::after {
            content: "";
            display: block;
            height: 2px;
            border-radius: 999px;
            background: var(--text);
            margin: 5px 0;
            transition: transform 0.2s ease, opacity 0.2s ease;
        }

        .hamburger.open::before {
            transform: translateY(7px) rotate(45deg);
        }

        .hamburger.open::after {
            transform: translateY(-7px) rotate(-45deg);
        }

        .hamburger.open span {
            opacity: 0;
        }

        .page {
            max-width: 1100px;
            margin: 0 auto;
            padding: 16px 16px 28px;
        }

        .hero {
            background: radial-gradient(circle at top left, #fff9f2, #f7e4cf);
            border-radius: 16px;
            padding: 18px 18px 20px;
            margin-top: 12px;
            margin-bottom: 18px;
            box-shadow: 0 14px 30px rgba(0, 0, 0, 0.06);
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .hero h1 {
            font-size: clamp(1.2rem, 3vw, 1.6rem);
            font-weight: 700;
        }

        .hero p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 14px;
        }

        .card {
            display: flex;
            flex-direction: column;
            align-items: stretch;
        }

        .card-inner {
            width: 100%;
            border-radius: 16px;
            border: none;
            outline: none;
            aspect-ratio: 3 / 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 10px 24px rgba(0, 0, 0, 0.08);
            transition: transform 0.15s ease, box-shadow 0.15s ease, filter 0.15s ease;
            color: #2b1a12;
            padding: 10px;
            text-align: center;
        }

        .card-inner span {
            display: block;
        }

        .plan-label {
            font-size: 0.78rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            opacity: 0.8;
            margin-bottom: 4px;
        }

        .plan-amount {
            font-size: 1.15rem;
        }

        .plan-desc {
            font-size: 0.8rem;
            margin-top: 4px;
            opacity: 0.85;
        }

        .card-inner:hover {
            transform: translateY(-3px);
            box-shadow: 0 14px 30px rgba(0, 0, 0, 0.16);
            filter: brightness(1.03);
        }

        .card-inner:active {
            transform: translateY(0);
            box-shadow: 0 6px 14px rgba(0, 0, 0, 0.12);
            filter: brightness(0.98);
        }

        .plan1 {
            background: linear-gradient(135deg, #ffe0d5, #ffeedf);
        }

        .plan2 {
            background: linear-gradient(135deg, #ffeeb5, #fff6d7);
        }

        .plan3 {
            background: linear-gradient(135deg, #dff7c5, #f0ffe2);
        }

        .plan4 {
            background: linear-gradient(135deg, #d4ebff, #e8f4ff);
        }

        .plan5 {
            background: linear-gradient(135deg, #ead9ff, #f4e9ff);
        }

        .plan6 {
            background: linear-gradient(135deg, #ffd9eb, #ffe7f4);
        }

        @media (max-width: 480px) {
            .page {
                padding: 14px 12px 24px;
            }

            .hero {
                padding: 16px 14px 18px;
                margin-bottom: 16px;
            }

            .grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .card-inner {
                aspect-ratio: 7 / 3;
                font-size: 1rem;
            }
        }

        @media (min-width: 768px) {
            .page {
                padding: 22px 24px 32px;
            }

            .hero {
                margin-top: 18px;
                margin-bottom: 22px;
                padding: 22px 24px;
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
            }

            .hero h1 {
                font-size: 1.5rem;
            }

            .hero p {
                max-width: 360px;
                text-align: right;
                font-size: 0.95rem;
            }

            .grid {
                grid-template-columns: repeat(3, minmax(0, 1fr));
                gap: 18px;
            }

            .card-inner {
                aspect-ratio: 4 / 3;
            }
        }

        @media (min-width: 1024px) {
            .page {
                padding: 26px 16px 40px;
            }

            .hero {
                padding: 26px 28px;
            }

            .hero h1 {
                font-size: 1.7rem;
            }

            .grid {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }
        }

        @media (max-width: 767px) {
            .nav-inner {
                justify-content: flex-start;
            }

            .hamburger {
                display: block;
            }

            .brand {
                margin-left: 8px;
            }

            .nav-links {
                position: absolute;
                left: 0;
                right: 0;
                top: 100%;
                background: rgba(245, 239, 230, 0.98);
                border-bottom: 1px solid var(--accent);
                padding: 10px 16px 12px;
                flex-direction: column;
                gap: 8px;
                display: none;
            }

            .nav-links.open {
                display: flex;
            }

            .nav-links a {
                width: fit-content;
            }
        }

        @media (min-width: 768px) {
            .hamburger {
                display: none;
            }

            .nav-inner {
                justify-content: space-between;
            }

            .nav-links {
                position: static;
                flex-direction: row;
                border: none;
                padding: 0;
                display: flex !important;
            }
        }
    </style>
</head>

<body>
    <header class="navbar">
        <div class="nav-inner">
            <button class="hamburger" id="hamburgerBtn" aria-label="Menu">
                <span></span>
            </button>
            <div class="brand">SSK Chit Funds</div>
            <nav class="nav-links" id="navLinks">
                <a href="#" class="active">Home</a>
                <a href="members.html">Members</a>
                <a href="#">Add</a>
            </nav>
        </div>
    </header>

    <main class="page">
        <section class="hero">
            <div>
                <h1>DIWALI 2025 - 2026</h1>
            </div>
        </section>

        <section class="grid">
            <div class="card">
                <button class="card-inner plan1" onclick="onPlanClick(100)">
                    <span class="plan-label">Plan 1</span>
                    <span class="plan-amount">100 / week</span>
                    <span class="plan-desc">Starter group</span>
                </button>
            </div>
            <div class="card">
                <button class="card-inner plan2" onclick="onPlanClick(200)">
                    <span class="plan-label">Plan 2</span>
                    <span class="plan-amount">200 / week</span>
                    <span class="plan-desc">Growing savings</span>
                </button>
            </div>
            <div class="card">
                <button class="card-inner plan3" onclick="onPlanClick(300)">
                    <span class="plan-label">Plan 3</span>
                    <span class="plan-amount">300 / week</span>
                    <span class="plan-desc">Balanced plan</span>
                </button>
            </div>
            <div class="card">
                <button class="card-inner plan4" onclick="onPlanClick(400)">
                    <span class="plan-label">Plan 4</span>
                    <span class="plan-amount">400 / week</span>
                    <span class="plan-desc">Active contributors</span>
                </button>
            </div>
            <div class="card">
                <button class="card-inner plan5" onclick="onPlanClick(500)">
                    <span class="plan-label">Plan 5</span>
                    <span class="plan-amount">500 / week</span>
                    <span class="plan-desc">High value group</span>
                </button>
            </div>
            <div class="card">
                <button class="card-inner plan6" onclick="onPlanClick(600)">
                    <span class="plan-label">Plan 6</span>
                    <span class="plan-amount">600 / week</span>
                    <span class="plan-desc">Premium members</span>
                </button>
            </div>
        </section>
    </main>

    <script>
        // point to your backend API
        const API_BASE = 'https://sskchitbackend.onrender.com/api';

        // When the user clicks a plan we optionally prefetch members then navigate
        async function onPlanClick(amount) {
            try {
                // try to fetch and store in sessionStorage for the next page
                const url = `${API_BASE}/members?amount=${amount}`;
                const resp = await fetch(url);
                if (!resp.ok) throw new Error('Fetch failed');
                const data = await resp.json();
                // Save short-lived in sessionStorage; key clears when tab closes
                sessionStorage.setItem(`members_plan_${amount}`, JSON.stringify({
                    ts: Date.now(),
                    amount,
                    data
                }));
            } catch (err) {
                // if fetch fails we still navigate; members.html will fetch itself
                console.warn('Prefetch failed, continuing to members page', err);
            }
            // navigate to members page (members.html will read sessionStorage first)
            window.location.href = `members.html?amount=${amount}`;
        }

        // optional: clear old cached keys on page load (keeps storage small)
        (function clearOldPrefetch() {
            const maxAge = 1000 * 60 * 10; // 10 minutes
            for (let i = 0; i < sessionStorage.length; i++) {
                const key = sessionStorage.key(i);
                if (key && key.startsWith('members_plan_')) {
                    try {
                        const obj = JSON.parse(sessionStorage.getItem(key));
                        if (!obj || (Date.now() - obj.ts) > maxAge) sessionStorage.removeItem(key);
                    } catch (e) { sessionStorage.removeItem(key); }
                }
            }
        })();

        // ---- MOBILE NAV TOGGLE FIX ----
        (function setupMobileNavToggle() {
            const hamburger = document.getElementById('hamburgerBtn');
            const navLinks = document.getElementById('navLinks');
            if (!hamburger || !navLinks) return;
            hamburger.addEventListener('click', () => {
                hamburger.classList.toggle('open');
                navLinks.classList.toggle('open');
            });
        })();
    </script>


</body>

</html>